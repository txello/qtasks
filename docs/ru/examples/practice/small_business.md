# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è QTasks –¥–ª—è –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞

–ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å —á–∞—Å—Ç–æ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è —Å –∑–∞–¥–∞—á–∞–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –æ—Ç—á—ë—Ç—ã, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CRM, –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏. QTasks –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ª—ë–≥–∫—É—é, –Ω–æ –º–æ—â–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å –Ω–∞–¥—ë–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –±–µ–∑ —Ç—è–∂—ë–ª—ã—Ö –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç.

---

## üè™ –°—Ü–µ–Ω–∞—Ä–∏–π

–î–æ–ø—É—Å—Ç–∏–º, —É –≤–∞—Å –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω. –í–∞–º –Ω—É–∂–Ω–æ:

1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–¥–æ–º–ª—è—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞–∫–∞–∑–∞.
2. –°–æ–±–∏—Ä–∞—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º.
3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –≤–Ω–µ—à–Ω–µ–π CRM.

---

## üì¶ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º

```python
@app.task(name="notify_status")
async def notify_status(order_id: int):
    order = await db.get_order(order_id)
    await sms_api.send(order.phone, f"–í–∞—à –∑–∞–∫–∞–∑ {order.id} —Å–µ–π—á–∞—Å: {order.status}")
```

---

## üìä –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å —Ç–∞–π–º–µ—Ä–æ–º

```python
from qtasks.timers import AsyncTimer
from apscheduler.triggers.cron import CronTrigger

timer = AsyncTimer(app=app)

timer.add_task("daily_report", trigger=CronTrigger(hour=23, minute=59))

@app.task(name="daily_report")
async def daily_report():
    stats = await db.get_today_stats()
    await mailer.send("owner@shop.com", "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç", stats.format())
```

---

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM —á–µ—Ä–µ–∑ `yield` –∏ `generate_handler`

```python
async def log_crm(result):
    await crm_api.send_log(result)
    return result

@app.task(generate_handler=log_crm, echo=True)
async def export_orders():
    for order in await db.get_exportable_orders():
        yield order.to_dict()
```

---

## üõ† –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∑–∞–¥–∞—á

```python
@app.task(retry=3, retry_on_exc=[ConnectionError])
async def sync_with_crm():
    await crm_api.sync()
```

---

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ QTasks –¥–ª—è –±–∏–∑–Ω–µ—Å–∞

* –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –æ—á–µ—Ä–µ–¥–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
* –£–¥–æ–±–Ω—ã–µ —Ç–∞–π–º–µ—Ä—ã –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∏ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á
* –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤
* –ì–∏–±–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –ø–æ–¥ –Ω—É–∂–¥—ã CRM, BI, —Å–∫–ª–∞–¥–æ–≤ –∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∏

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–° –ø–æ–º–æ—â—å—é QTasks –º–∞–ª—ã–π –±–∏–∑–Ω–µ—Å –º–æ–∂–µ—Ç –≤—ã—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –º–µ—Ä–µ —Ä–æ—Å—Ç–∞ –∏ –Ω–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –æ—Ç –∫–æ–º–∞–Ω–¥—ã —Å–ª–æ–∂–Ω–æ–π DevOps-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
